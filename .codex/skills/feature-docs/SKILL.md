---
name: feature-docs
description: "Создавать и поддерживать документацию по фичам в стиле Remission. Используй при любых изменениях reducer/view/flow, при добавлении тестов, при рефакторинге поведения, а также когда нужно объяснить что делает фича вне комментариев в коде. Результат: devdoc/features/feature-name.md и при изменении сценариев обновление devdoc/PRD.md."
---

# Feature Docs

## Цель
Фиксировать фактическое поведение фичи рядом с кодом, но вне кода: коротко, структурно, привязано к конкретным файлам.

## Обязательные действия при изменениях
1. Определи feature-область (например: torrent-list, server-detail, settings).
2. Обнови или создай `devdoc/features/<feature>.md`.
3. Если поменялся пользовательский сценарий или контракт, обнови `devdoc/PRD.md`.
4. Добавь ссылку на новые/изменённые тесты в feature-doc.

## Как писать feature-doc
1. Опирайся на реальный код reducer и ключевые view.
2. Пиши про поведение и поток состояний, а не про «что такое Swift».
3. Используй короткие разделы и плоские списки.
4. Явно указывай пути к файлам.

## Минимальная структура
Используй шаблон из `references/feature-template.md`.

## Чеклист качества
- Док описывает flow: входные действия → эффекты → итоговые состояния.
- Док объясняет, где retry/backoff/polling/отмена эффектов.
- Док предупреждает о ловушках в тестах и DI (особенно `ServerConnectionEnvironment`).
- Док не дублирует код построчно и не превращается в «комментарии на 500 строк».
